generator client {
  provider                  = "prisma-client-js"
}

datasource db {
  provider                  = "mysql"
  url                       = env("DATABASE_URL")
}

// === User ====

model User {
  id                        Int             @id @default(autoincrement())
  email                     String          @unique
  passwordHash              String          @map("password_hash")
  userActive                Boolean         @default(false) @map("user_active")
  activationCode            String?         @map("activation_code")
  recoveryCode              String?         @map("recovery_code")
  recoveryCodeExpires       DateTime?       @map("recovery_code_expires")
  sessions                  Session[]
  @@map("users")
}

model Session {
  id                        String          @id
  userId                    Int             @map("user_id")
  expiresAt                 DateTime        @map("expires_at")
  user                      User            @relation(references: [id], fields: [userId], onDelete: Cascade)
  @@map("user_sessions")
}

// === Content ====

model Post {
  id                        Int             @id @default(autoincrement())
  titleEn                   String          @map("title_en")
  contentEn                 String          @map("content_en")
  titleEs                   String          @map("title_es")
  contentEs                 String          @map("content_es")
  titleFr                   String          @map("title_fr")
  contentFr                 String          @map("content_fr")
  titleDe                   String          @map("title_de")
  contentDe                 String          @map("content_de")
  createdAt                 DateTime        @default(now()) @map("created_at")
  updatedAt                 DateTime?       @default(now()) @map("updated_at")
  img                       String?
  slug                      String          @unique
  sourceName                String?         @map("source_name")
  sourceUrl                 String?         @map("source_url")
  status                    Int             @default(0)
  @@map("posts")
}